<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:site_name" content="Mee42.dev"/><meta property="og:title" content="Advent of code, Day 2"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mee42.dev/blog/6#advent-of-code-day-2"/><meta property="og:description" content="Probably done during english class"/><html lang="en-US"></html><title>mee42.dev | Advent of code, Day 2</title><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/17e1c257e36565454180.css" as="style"/><link rel="stylesheet" href="/_next/static/css/17e1c257e36565454180.css"/><link rel="preload" href="/_next/static/css/26181ddc12afafa38730.css" as="style"/><link rel="stylesheet" href="/_next/static/css/26181ddc12afafa38730.css"/><link rel="preload" href="/_next/static/chunks/main-5111d87fab9b5370cc9a.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1b5fae6dde8a26be77ac.js" as="script"/><link rel="preload" href="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.385dc8404ef76b6a4b4e.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.93fe777673a5651520d9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-93e30f94c05dd8c9a648.js" as="script"/><link rel="preload" href="/_next/static/chunks/1a2af845c0b0daf3d71ab5908136823678b656af.a06c409320be9f87330b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bid%5D-49d6cba1bd749b6a9565.js" as="script"/></head><body><div id="__next"><div><header class="header_header__2q1wF"><a href="/" class="header_mainButton__3_bcA"><code>mee42.dev</code></a><div><div class="header_withGrow__2qx96"></div><a href="/">Home</a><div class="header_withGrow__2qx96"></div><div class="header_bottomBorder__3FSRX"></div></div><div><div class="header_withGrow__2qx96"></div><a href="/projects">Projects</a><div class="header_withGrow__2qx96"></div><div class="header_bottomBorder__3FSRX"></div></div><div><div class="header_withGrow__2qx96"></div><a href="/blog">Blog</a><div class="header_withGrow__2qx96"></div><div class="header_bottomBorder__3FSRX"></div></div><div><div class="header_withGrow__2qx96"></div><a href="https://github.com/mee42/">Github</a><div class="header_withGrow__2qx96"></div><div class="header_bottomBorder__3FSRX"></div></div></header><div class="blogPost_titleBar__2wHAy"><div class="blogPost_title__2vP91">Advent of code, Day 2</div><div class="blogPost_desc__1vii7">Probably done during english class</div></div><div class="blogPost_content__2qtEn blogPost_post__KTait"><p>It&#x27;s day 2, and there&#x27;s another pair of challenges!</p><blockquote><p>Your flight departs in a few days from the coastal airport; the easiest way down to the coast from here is via toboggan.</p></blockquote><p>Ah, of course. Who would have thought.</p><blockquote><p>Their password database seems to be a little corrupted: some of the passwords wouldn&#x27;t have been allowed by the Official Toboggan Corporate Policy that was in effect when they were chosen.</p></blockquote><p>I guess this is one of the companies that require password changes often. Hate those guys.</p><blockquote><p>To try to debug the problem, they have created a list (your puzzle input) of passwords (according to the corrupted database) and the corporate policy when that password was set.
For example, suppose you have the following list:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>1-3 a: abcde
</span>1-3 b: cdefg
<!-- -->2-9 c: ccccccccc
</code></pre></blockquote><p>It seems as if there&#x27;s only a single &quot;corporate policy&quot; per each password, seperated by a colon.</p><blockquote><p>Each line gives the password policy and then the password. The password policy indicates the lowest and highest number of times a given letter must appear for the password to be valid. For example, 1-3 a means that the password must contain a at least 1 time and at most 3 times.</p><p>In the above example, 2 passwords are valid. The middle password, cdefg, is not; it contains no instances of b, but needs at least 1. The first and third passwords are valid: they contain one a or nine c, both within the limits of their respective policies.</p><p>How many passwords are valid according to their policies?</p></blockquote><p>Alright, this should be pretty easy.
Right off the bat I can see that it&#x27;s a very simple algorithm, which returns a boolean value, and we need to count how many times it&#x27;s <code>true</code>. So let&#x27;s dive into it!</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">fun</span><span> </span><span class="token" style="color:#DD4A68">main</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> input </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token raw-string" style="color:#690">&quot;&quot;&quot;
</span><span class="token raw-string" style="color:#690">        1-3 a: abcde
</span><span class="token raw-string" style="color:#690">        1-3 b: cdefg
</span><span class="token raw-string" style="color:#690">        2-9 c: ccccccccc
</span><span class="token raw-string" style="color:#690">    &quot;&quot;&quot;</span><span>
</span>
<span>    </span><span class="token" style="color:#07a">val</span><span> lines </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> input</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;\n&quot;</span><span class="token" style="color:#999">)</span><span>       </span><span class="token" style="color:slategray">// split by lines</span><span>
</span><span>            </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>String</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>isNotBlank</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:slategray">// remove lines that are blank</span></code></pre><p>We&#x27;ll try and use the sample input for testing, as we can verify the outcome.</p><p>Now, we need to count the number of lines that have valid passwords. Kotlin (the language I&#x27;m using) has a builtin function for counting</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">fun</span><span> List</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>T</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span class="token" style="color:#999">(</span><span>predicate</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span>T</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> Boolean</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> Int </span><span class="token" style="color:#999">{</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">..</span><span class="token" style="color:#999">.</span><span> </span><span class="token" style="color:#999">}</span></code></pre><p>The function runs the <code>predicate</code> over each element, returning the count of ones that return <code>true</code>.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> answer </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> lines</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> line </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> 
</span><span>    </span><span class="token" style="color:slategray">// checking code ...</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>If we go back to the sample input, we can see it follows a simple grammar: <code>1-2 a: password</code>.
We need to extract certain parts of this input to put into variables</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>1-2 a: abcdefgh
</span>^ ^ ^  \--------&gt; password
<!-- -->| | |
<!-- -->| | letter
<!-- -->| upper
<!-- -->lower
</code></pre><p>The fastest way to do this is to split the string at a couple key points - between each important element. We can use a regex to define where we want to split. </p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> </span><span class="token" style="color:#999">(</span><span>lower</span><span class="token" style="color:#999">,</span><span> upper</span><span class="token" style="color:#999">,</span><span> letter</span><span class="token" style="color:#999">,</span><span> password</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> line</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">trim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Regex</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;(-)|(: )|( )&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span></code></pre><p>For those who don&#x27;t know, regex is just a way of selecting text. If we split a string (the input) by a regex, we&#x27;ll get all the text around it in a list, but not the text actually matched.</p><p>The regex we use here is pretty simple. The <code>|</code> OR bars let us match on <em>any</em> of the options, as long as one of them matches.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-regex" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token group" style="color:#999">(</span><span>-</span><span class="token group" style="color:#999">)</span><span class="token alternation" style="color:#07a">|</span><span class="token group" style="color:#999">(</span><span>: </span><span class="token group" style="color:#999">)</span><span class="token alternation" style="color:#07a">|</span><span class="token group" style="color:#999">(</span><span> </span><span class="token group" style="color:#999">)</span><span>
</span><span> </span><span class="token anchor" style="color:#DD4A68">^</span><span>   </span><span class="token anchor" style="color:#DD4A68">^</span><span class="token anchor" style="color:#DD4A68">^</span><span>   </span><span class="token anchor" style="color:#DD4A68">^</span><span>
</span><span> </span><span class="token alternation" style="color:#07a">|</span><span>   </span><span class="token alternation" style="color:#07a">|</span><span>   Match a single space
</span><span> </span><span class="token alternation" style="color:#07a">|</span><span>  Match a colon, and then a space</span><span class="token charclass" style="color:#DD4A68">.</span><span> This is the text between the letter and the password
</span><span>Match a single hyphen character </span><span class="token group" style="color:#999">(</span><span>split between the numbers</span><span class="token group" style="color:#999">)</span></code></pre><p>Here I use a Kotlin feature called &quot;destructuring&quot; to put all the matched elements into separate variables, so the first match goes into the variable <code>lower</code>, and the next <code>upper</code>, and so one.</p><p>Now we need to get how many of the letter <code>letter</code> is in the <code>password</code>.
I used another <code>count</code> call to count how many letters in the password equalled the <code>letter</code> input.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> password</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> char </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> char</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter </span><span class="token" style="color:#999">}</span></code></pre><p>I needed to convert the char to a string to compare it to <code>letter</code>, as <code>letter</code> is a <code>String</code>. </p><p><em>Note, if you&#x27;re writing this in Java, you need to use <code>.equals()</code> to compare strings, instead of <code>==</code></em></p><p>Then, we can just return if the <code>count</code> is within valid range. Here&#x27;s what it ends up looking like:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> lines</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> line </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> </span><span class="token" style="color:#999">(</span><span>lower</span><span class="token" style="color:#999">,</span><span> upper</span><span class="token" style="color:#999">,</span><span> letter</span><span class="token" style="color:#999">,</span><span> password</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> line</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">trim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Regex</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;(-)|(: )|( )&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span>
<span>    </span><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> password</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> char </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> char</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter </span><span class="token" style="color:#999">}</span><span>
</span>    
<span>    </span><span class="token" style="color:#07a">return</span><span class="token label" style="color:#905">@count</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> lower</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> upper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>Now, in Kotlin lambdas, we can remove the last return statement (it&#x27;s automatically inserted). The finally solution for part 1 ends up being.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">fun</span><span> </span><span class="token" style="color:#DD4A68">main1</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> Int </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> lines </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">inputLines</span><span class="token" style="color:#999">(</span><span>day </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">)</span><span>
</span><span>            </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>String</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>isNotBlank</span><span class="token" style="color:#999">)</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> lines</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> line </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span>
</span><span>        </span><span class="token" style="color:#07a">val</span><span> </span><span class="token" style="color:#999">(</span><span>lower</span><span class="token" style="color:#999">,</span><span> upper</span><span class="token" style="color:#999">,</span><span> letter</span><span class="token" style="color:#999">,</span><span> password</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> line</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">trim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Regex</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;(-)|(: )|( )&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span>
<span>        </span><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> password</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> char </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> char</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter </span><span class="token" style="color:#999">}</span><span>
</span>
<span>        count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> lower</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> upper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:slategray">// implicit return of this boolean</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token" style="color:#07a">return</span><span> count
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>It works for the sample input, and it works for my sample input.</p><h2>Part 2</h2><blockquote><p>While it appears you validated the passwords correctly, they don&#x27;t seem to be what the Official Toboggan Corporate Authentication System is expecting.</p><p>The shopkeeper suddenly realizes that he just accidentally explained the password policy rules from his old job at the sled rental place down the street! The Official Toboggan Corporate Policy actually works a little differently.</p></blockquote><p>Oh no! We&#x27;ll have to copy our code and make some adjustments.</p><blockquote><p>Each policy actually describes two positions in the password, where 1 means the first character, 2 means the second character, and so on. (Be careful; Toboggan Corporate Policies have no concept of &quot;index zero&quot;!) Exactly one of these positions must contain the given letter. Other occurrences of the letter are irrelevant for the purposes of policy enforcement.</p></blockquote><p>So we need to get the two characters at the points <code>lower</code> and <code>upper</code> (plus one), see if they equal <code>letter</code>, and return true if and only if only one of them are equal. Our truth table would look like this,</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-js" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>lower </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span> upper </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span> result
</span><span>  </span><span class="token" style="color:#905">1</span><span>       </span><span class="token" style="color:#905">1</span><span>       </span><span class="token" style="color:#905">0</span><span>     </span><span class="token" style="color:slategray">// both are equal, there&#x27;s more then one, so it&#x27;s a false result</span><span>
</span><span>  </span><span class="token" style="color:#905">1</span><span>       </span><span class="token" style="color:#905">0</span><span>       </span><span class="token" style="color:#905">1</span><span>     </span><span class="token" style="color:slategray">// only one is equal, result is true</span><span>
</span><span>  </span><span class="token" style="color:#905">0</span><span>       </span><span class="token" style="color:#905">1</span><span>       </span><span class="token" style="color:#905">1</span><span>     </span><span class="token" style="color:slategray">// same as 1, 0</span><span>
</span><span>  </span><span class="token" style="color:#905">0</span><span>       </span><span class="token" style="color:#905">0</span><span>       </span><span class="token" style="color:#905">0</span><span>     </span><span class="token" style="color:slategray">// neither match, so it&#x27;s false</span></code></pre><p>you might notice this truth table looks exactly like the <code>xor</code> function!</p><p>Let&#x27;s just write this out:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> result </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>lower </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#DD4A68">xor</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>upper </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">)</span></code></pre><p><em>Remembering that we need to subtract <code>1</code>, as the given inputs are based on a 1-index.</em></p><p>There&#x27;s some type issues we need to fix, though. <code>lower</code> is a <code>String</code> not an <code>Int</code>, <code>letter</code> is also a <code>String</code> not a <code>Char</code>. We&#x27;ll have to convert them, which makes the code look a bit worse.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">val</span><span> result </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>lower</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#DD4A68">xor</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>upper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span></code></pre><p>Now we can integrate it into our original counting function.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">fun</span><span> </span><span class="token" style="color:#DD4A68">main2</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> Int </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> lines </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">inputLines</span><span class="token" style="color:#999">(</span><span>day </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">)</span><span>
</span><span>            </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>String</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>isNotBlank</span><span class="token" style="color:#999">)</span><span>
</span><span>    </span><span class="token" style="color:#07a">val</span><span> count </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> lines</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> line </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span>
</span><span>        </span><span class="token" style="color:#07a">val</span><span> </span><span class="token" style="color:#999">(</span><span>lower</span><span class="token" style="color:#999">,</span><span> upper</span><span class="token" style="color:#999">,</span><span> letter</span><span class="token" style="color:#999">,</span><span> password</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> line</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">trim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Regex</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;(-)|(: )|( )&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span>
<span>        </span><span class="token" style="color:#07a">val</span><span> result </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>lower</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#DD4A68">xor</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>upper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span>
</span><span>        result </span><span class="token" style="color:slategray">// implict return</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token" style="color:#07a">return</span><span> count
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>And that&#x27;s it, part 2 was pretty easy. There is a couple changes I&#x27;ll make to change this into more idiomatic Kotlin code, but is mostly irrelevant to the discussion.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-kt" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">fun</span><span> </span><span class="token" style="color:#DD4A68">main2</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> Int </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">inputLines</span><span class="token" style="color:#999">(</span><span>day </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>String</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>isNotBlank</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">count</span><span> </span><span class="token" style="color:#999">{</span><span> line </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> 
</span><span>            </span><span class="token" style="color:#07a">val</span><span> </span><span class="token" style="color:#999">(</span><span>lower</span><span class="token" style="color:#999">,</span><span> upper</span><span class="token" style="color:#999">,</span><span> letter</span><span class="token" style="color:#999">,</span><span> password</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> line</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">trim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">split</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Regex</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;(-)|(: )|( )&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span> 
</span><span>            </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>lower</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#DD4A68">xor</span><span> </span><span class="token" style="color:#999">(</span><span>password</span><span class="token" style="color:#999">[</span><span>upper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span><span> letter</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span> 
</span><span>        </span><span class="token" style="color:#999">}</span></code></pre><p>Thanks for reading :) I plan on doing these writeups for as long as I have the time.</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"6","post":{"id":6,"title":"Advent of code, Day 2","desc":"Probably done during english class","tags":["algorithm","aoc","regex"],"url":"advent-of-code-day-2","date":"2020-12-02","content":"It's day 2, and there's another pair of challenges!\n\n\u003e Your flight departs in a few days from the coastal airport; the easiest way down to the coast from here is via toboggan.\n\nAh, of course. Who would have thought.\n\n\u003e Their password database seems to be a little corrupted: some of the passwords wouldn't have been allowed by the Official Toboggan Corporate Policy that was in effect when they were chosen.\n\nI guess this is one of the companies that require password changes often. Hate those guys.\n\n\u003e To try to debug the problem, they have created a list (your puzzle input) of passwords (according to the corrupted database) and the corporate policy when that password was set.\n\u003e For example, suppose you have the following list:\n\u003e ```\n\u003e 1-3 a: abcde\n\u003e 1-3 b: cdefg\n\u003e 2-9 c: ccccccccc\n\u003e ```\n\nIt seems as if there's only a single \"corporate policy\" per each password, seperated by a colon.\n\n\u003e Each line gives the password policy and then the password. The password policy indicates the lowest and highest number of times a given letter must appear for the password to be valid. For example, 1-3 a means that the password must contain a at least 1 time and at most 3 times.\n\u003e \n\u003e In the above example, 2 passwords are valid. The middle password, cdefg, is not; it contains no instances of b, but needs at least 1. The first and third passwords are valid: they contain one a or nine c, both within the limits of their respective policies.\n\n\u003e How many passwords are valid according to their policies?\n\nAlright, this should be pretty easy.\nRight off the bat I can see that it's a very simple algorithm, which returns a boolean value, and we need to count how many times it's `true`. So let's dive into it!\n\n```kt\nfun main(){\n    val input = \"\"\"\n        1-3 a: abcde\n        1-3 b: cdefg\n        2-9 c: ccccccccc\n    \"\"\"\n\n    val lines = input.split(\"\\n\")       // split by lines\n            .filter(String::isNotBlank) // remove lines that are blank\n```\nWe'll try and use the sample input for testing, as we can verify the outcome.\n\nNow, we need to count the number of lines that have valid passwords. Kotlin (the language I'm using) has a builtin function for counting\n```kt\nfun List\u003cT\u003e.count(predicate: (T) -\u003e Boolean): Int { ... }\n```\nThe function runs the `predicate` over each element, returning the count of ones that return `true`.\n\n```kt\nval answer = lines.count { line -\u003e \n    // checking code ...\n}\n```\n\nIf we go back to the sample input, we can see it follows a simple grammar: `1-2 a: password`.\nWe need to extract certain parts of this input to put into variables\n```\n1-2 a: abcdefgh\n^ ^ ^  \\--------\u003e password\n| | |\n| | letter\n| upper\nlower\n```\nThe fastest way to do this is to split the string at a couple key points - between each important element. We can use a regex to define where we want to split. \n```kt\nval (lower, upper, letter, password) = line.trim().split(Regex(\"(-)|(: )|( )\"))\n```\nFor those who don't know, regex is just a way of selecting text. If we split a string (the input) by a regex, we'll get all the text around it in a list, but not the text actually matched.\n\nThe regex we use here is pretty simple. The `|` OR bars let us match on *any* of the options, as long as one of them matches.\n```regex\n(-)|(: )|( )\n ^   ^^   ^\n |   |   Match a single space\n |  Match a colon, and then a space. This is the text between the letter and the password\nMatch a single hyphen character (split between the numbers)\n```\nHere I use a Kotlin feature called \"destructuring\" to put all the matched elements into separate variables, so the first match goes into the variable `lower`, and the next `upper`, and so one.\n\nNow we need to get how many of the letter `letter` is in the `password`.\nI used another `count` call to count how many letters in the password equalled the `letter` input.\n\n```kt\nval count = password.count { char -\u003e char.toString() == letter }\n```\nI needed to convert the char to a string to compare it to `letter`, as `letter` is a `String`. \n\n*Note, if you're writing this in Java, you need to use `.equals()` to compare strings, instead of `==`*\n\nThen, we can just return if the `count` is within valid range. Here's what it ends up looking like:\n```kt\nval count = lines.count { line -\u003e\n    val (lower, upper, letter, password) = line.trim().split(Regex(\"(-)|(: )|( )\"))\n\n    val count = password.count { char -\u003e char.toString() == letter }\n    \n    return@count count \u003e= lower.toInt() \u0026\u0026 count \u003c= upper.toInt()\n}\n```\nNow, in Kotlin lambdas, we can remove the last return statement (it's automatically inserted). The finally solution for part 1 ends up being.\n```kt\nfun main1(): Int {\n    val lines = inputLines(day = 2)\n            .filter(String::isNotBlank)\n    val count = lines.count { line -\u003e\n        val (lower, upper, letter, password) = line.trim().split(Regex(\"(-)|(: )|( )\"))\n\n        val count = password.count { char -\u003e char.toString() == letter }\n\n        count \u003e= lower.toInt() \u0026\u0026 count \u003c= upper.toInt() // implicit return of this boolean\n    }\n    return count\n}\n```\n\nIt works for the sample input, and it works for my sample input.\n\n## Part 2\n\n\u003e While it appears you validated the passwords correctly, they don't seem to be what the Official Toboggan Corporate Authentication System is expecting.\n\u003e \n\u003e The shopkeeper suddenly realizes that he just accidentally explained the password policy rules from his old job at the sled rental place down the street! The Official Toboggan Corporate Policy actually works a little differently.\n\nOh no! We'll have to copy our code and make some adjustments.\n\n\u003e Each policy actually describes two positions in the password, where 1 means the first character, 2 means the second character, and so on. (Be careful; Toboggan Corporate Policies have no concept of \"index zero\"!) Exactly one of these positions must contain the given letter. Other occurrences of the letter are irrelevant for the purposes of policy enforcement.\n\nSo we need to get the two characters at the points `lower` and `upper` (plus one), see if they equal `letter`, and return true if and only if only one of them are equal. Our truth table would look like this,\n```js\nlower | upper | result\n  1       1       0     // both are equal, there's more then one, so it's a false result\n  1       0       1     // only one is equal, result is true\n  0       1       1     // same as 1, 0\n  0       0       0     // neither match, so it's false\n```\nyou might notice this truth table looks exactly like the `xor` function!\n\nLet's just write this out:\n```kt\nval result = (password[lower - 1] == letter) xor (password[upper - 1] == letter)\n```\n*Remembering that we need to subtract `1`, as the given inputs are based on a 1-index.*\n\nThere's some type issues we need to fix, though. `lower` is a `String` not an `Int`, `letter` is also a `String` not a `Char`. We'll have to convert them, which makes the code look a bit worse.\n```kt\nval result = (password[lower.toInt() - 1] == letter[0]) xor (password[upper.toInt() - 1] == letter[0])\n```\n\nNow we can integrate it into our original counting function.\n```kt\nfun main2(): Int {\n    val lines = inputLines(day = 2)\n            .filter(String::isNotBlank)\n    val count = lines.count { line -\u003e\n        val (lower, upper, letter, password) = line.trim().split(Regex(\"(-)|(: )|( )\"))\n\n        val result = (password[lower.toInt() - 1] == letter[0]) xor (password[upper.toInt() - 1] == letter[0])\n        result // implict return\n    }\n    return count\n}\n```\nAnd that's it, part 2 was pretty easy. There is a couple changes I'll make to change this into more idiomatic Kotlin code, but is mostly irrelevant to the discussion.\n```kt\nfun main2(): Int = inputLines(day = 2)\n        .filter(String::isNotBlank)\n        .count { line -\u003e \n            val (lower, upper, letter, password) = line.trim().split(Regex(\"(-)|(: )|( )\")) \n            (password[lower.toInt() - 1] == letter[0]) xor (password[upper.toInt() - 1] == letter[0]) \n        }\n```\n\nThanks for reading :) I plan on doing these writeups for as long as I have the time."}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"6"},"buildId":"_qxIm72mL7ZfN-nQI-77Z","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ddcc847e43635f820aed.js"></script><script src="/_next/static/chunks/main-5111d87fab9b5370cc9a.js" async=""></script><script src="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" async=""></script><script src="/_next/static/chunks/framework.1b5fae6dde8a26be77ac.js" async=""></script><script src="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.385dc8404ef76b6a4b4e.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.93fe777673a5651520d9.js" async=""></script><script src="/_next/static/chunks/pages/_app-93e30f94c05dd8c9a648.js" async=""></script><script src="/_next/static/chunks/1a2af845c0b0daf3d71ab5908136823678b656af.a06c409320be9f87330b.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bid%5D-49d6cba1bd749b6a9565.js" async=""></script><script src="/_next/static/_qxIm72mL7ZfN-nQI-77Z/_buildManifest.js" async=""></script><script src="/_next/static/_qxIm72mL7ZfN-nQI-77Z/_ssgManifest.js" async=""></script></body></html>